AML Predictive Modeling Vignette
================
tkeyes
2020-09-25

  - [Read in data](#read-in-data)
  - [Very quick EDA](#very-quick-eda)
      - [Mahalanobis developmental classifier
        features](#mahalanobis-developmental-classifier-features)
      - [Cosine developmental classifier
        features](#cosine-developmental-classifier-features)
  - [Split data](#split-data)
  - [Replication of DDPR Elastic Net
    Model](#replication-of-ddpr-elastic-net-model)
  - [CITRUS features Elastic Net
    Model](#citrus-features-elastic-net-model)

``` r
# Libraries
libraries <- 
  c(
    "tidyverse", 
    "tidymodels", 
    "rlang", 
    "ggthemes"
  )

source(here::here("scripts", "setup", "aml_utils.R")) #may need to change on scg machines
call_libraries(libraries)

# Parameters
set_global_variables(locale = "galaxia")
md_path <- here::here("data-raw", "AML_metadata.xlsx")
tidyTOF_directory <- file.path("~", "GitHub", "tidyTOF")

CLUSTER_OUTPUT <- here::here("data", "cancer_data_clustered.rds")

# Sourcing tidyTOF functions
source_tidyTOF(tidyTOF_directory)

# set up aml marker and patient information
marker_setup()
patient_setup()

# Misc globals for running different parts of this vignette
mah_dev_path <- here::here("data", "mahalanobis_dev_features_10.rds")
cos_dev_path <- here::here("data", "cosine_dev_features_10.rds")
mah_citrus_path <- here::here("data", "mahalanobis_citrus_features.rds")
cos_citrus_path <- here::here("data", "cosine_citrus_features.rds")
md_path <- here::here("data", "md.rds")

DDPR_PROP <- 0.2
```

# Read in data

``` r
metadata <- 
  md_path %>% 
  read_rds() %>% 
  transmute(
    patient, 
    age = age_at_diagnosis_in_days, 
    wbc = wbc_at_diagnosis, 
    outcome = first_event %>% str_replace("Censored", "Non-relapse")
  )

mah_dev_data <- 
  mah_dev_path %>% 
  read_rds() %>% 
  filter(condition == "dx") %>% 
  left_join(metadata, by = "patient") %>% 
  replace(list = is.na(.), values = 0)

cos_dev_data <- 
  cos_dev_path %>% 
  read_rds() %>% 
  filter(condition == "dx") %>% 
  left_join(metadata, by = "patient") %>% 
  replace(list = is.na(.), values = 0)

mah_citrus_data <- 
  mah_citrus_path %>% 
  read_rds() %>% 
  filter(condition == "dx") %>% 
  left_join(metadata, by = "patient") %>% 
  replace(list = is.na(.), values = 0)

cos_citrus_data <- 
  cos_citrus_path %>% 
  read_rds() %>% 
  filter(condition == "dx") %>% 
  left_join(metadata, by = "patient") %>% 
  replace(list = is.na(.), values = 0)
```

# Very quick EDA

## Mahalanobis developmental classifier features

``` r
# needs to show the percentage variance for each PC in the plot

pca_recipe <- 
  recipe(
    ~., 
    data = 
      mah_dev_data %>% 
      replace(list = is.na(.), values = 0)
  ) %>% 
  step_zv(all_numeric()) %>% 
  step_normalize(all_numeric()) %>% 
  step_pca(all_numeric(), num_comp = 5) 

pca_prep <- prep(pca_recipe)

pca_result <- juice(pca_prep)

pca_result %>% 
  ggplot(aes(x = PC1, y = PC2, color = outcome)) + 
  geom_point(size = 3, alpha = 0.7) + 
  labs(title = "Developmental Classifier Features using Mahalanobis Distance")
```

![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-3-1.png)<!-- -->

``` r
mah_dev_data %>% 
  pivot_longer(
    cols = c(-patient, -condition, -outcome), 
    names_to = "feature", 
    values_to = "value"
  ) %>% 
  group_by(feature) %>% 
  nest() %>%
  mutate(
    plots = 
      map2(
        .x = data, 
        .y = feature,
        .f = 
          ~ ggplot(
            aes(x = fct_reorder(patient, value), y = value, color = outcome), 
            data = .x
          ) + 
          geom_point() + 
          coord_flip() + 
          labs(title = feature)
      )
  ) %>% 
  pull(plots) %>% 
  walk(.f = print)
```

![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-1.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-2.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-3.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-4.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-5.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-6.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-7.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-8.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-9.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-10.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-11.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-12.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-13.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-14.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-15.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-16.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-17.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-18.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-19.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-20.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-21.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-22.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-23.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-24.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-25.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-26.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-27.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-28.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-29.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-30.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-31.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-32.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-33.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-34.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-35.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-36.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-37.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-38.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-39.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-40.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-41.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-42.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-43.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-44.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-45.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-46.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-47.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-48.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-49.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-50.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-51.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-52.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-53.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-54.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-55.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-56.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-57.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-58.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-59.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-60.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-61.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-62.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-63.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-64.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-65.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-66.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-67.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-68.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-69.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-70.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-71.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-72.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-73.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-74.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-75.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-76.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-77.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-78.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-79.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-80.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-81.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-82.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-83.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-84.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-85.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-86.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-87.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-88.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-89.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-90.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-91.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-92.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-93.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-94.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-95.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-96.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-97.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-98.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-99.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-100.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-101.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-102.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-103.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-104.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-105.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-106.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-107.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-108.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-109.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-110.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-111.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-112.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-113.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-114.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-115.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-116.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-117.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-118.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-119.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-120.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-121.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-122.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-123.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-124.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-125.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-126.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-127.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-128.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-129.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-130.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-131.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-132.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-133.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-134.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-135.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-136.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-137.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-138.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-139.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-140.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-141.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-142.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-143.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-144.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-145.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-146.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-147.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-148.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-149.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-150.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-151.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-152.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-153.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-154.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-155.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-156.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-157.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-158.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-159.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-160.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-161.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-162.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-163.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-164.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-165.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-166.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-167.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-168.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-169.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-170.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-171.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-172.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-173.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-174.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-175.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-176.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-177.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-178.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-179.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-180.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-181.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-182.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-183.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-184.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-185.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-186.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-187.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-188.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-189.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-190.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-191.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-192.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-193.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-194.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-195.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-196.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-197.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-198.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-199.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-200.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-201.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-202.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-203.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-204.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-205.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-206.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-207.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-208.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-209.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-210.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-211.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-212.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-213.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-214.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-215.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-216.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-217.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-218.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-219.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-220.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-221.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-222.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-223.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-224.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-225.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-226.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-227.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-228.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-229.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-230.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-231.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-232.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-233.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-234.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-235.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-236.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-237.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-238.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-239.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-240.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-241.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-242.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-243.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-244.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-245.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-246.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-247.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-248.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-249.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-250.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-251.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-252.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-253.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-254.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-255.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-256.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-257.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-258.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-259.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-260.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-261.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-262.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-263.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-264.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-265.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-266.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-267.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-268.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-269.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-270.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-271.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-272.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-273.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-274.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-275.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-276.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-277.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-278.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-279.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-280.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-281.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-282.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-283.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-284.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-285.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-286.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-287.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-288.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-289.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-290.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-291.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-292.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-293.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-294.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-295.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-296.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-297.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-298.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-299.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-300.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-301.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-302.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-303.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-304.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-305.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-306.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-307.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-308.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-309.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-310.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-311.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-312.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-313.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-314.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-315.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-316.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-317.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-318.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-319.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-320.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-321.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-322.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-323.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-324.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-325.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-326.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-327.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-328.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-329.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-330.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-331.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-332.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-333.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-334.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-335.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-336.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-337.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-338.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-339.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-340.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-341.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-342.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-343.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-344.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-345.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-346.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-347.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-348.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-349.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-350.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-351.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-352.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-353.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-354.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-355.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-356.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-357.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-358.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-359.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-360.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-361.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-362.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-363.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-364.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-365.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-366.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-367.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-368.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-369.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-370.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-371.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-372.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-373.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-374.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-375.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-376.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-377.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-378.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-379.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-380.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-381.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-382.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-383.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-384.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-385.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-386.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-387.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-388.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-389.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-390.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-391.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-392.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-393.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-394.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-395.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-396.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-397.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-398.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-399.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-400.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-401.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-402.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-403.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-404.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-405.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-406.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-407.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-408.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-409.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-410.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-411.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-412.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-413.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-414.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-415.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-416.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-417.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-418.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-419.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-420.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-421.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-422.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-423.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-424.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-425.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-426.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-427.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-428.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-429.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-430.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-431.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-432.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-433.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-434.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-435.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-436.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-437.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-438.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-439.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-440.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-441.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-442.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-443.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-444.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-445.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-446.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-447.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-448.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-449.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-450.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-451.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-452.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-453.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-454.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-455.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-456.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-457.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-458.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-459.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-460.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-461.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-462.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-463.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-464.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-465.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-466.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-467.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-468.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-469.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-470.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-471.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-472.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-473.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-474.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-475.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-476.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-477.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-478.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-479.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-480.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-481.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-482.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-483.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-484.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-485.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-486.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-487.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-488.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-489.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-490.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-491.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-492.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-493.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-494.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-495.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-496.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-497.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-498.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-499.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-500.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-501.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-502.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-503.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-504.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-505.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-506.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-507.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-508.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-509.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-510.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-511.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-512.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-513.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-514.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-515.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-516.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-517.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-518.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-519.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-520.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-521.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-522.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-523.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-524.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-525.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-526.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-527.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-528.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-529.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-530.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-531.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-532.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-533.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-534.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-535.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-536.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-537.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-538.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-539.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-540.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-541.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-542.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-543.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-544.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-545.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-546.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-547.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-548.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-549.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-550.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-551.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-552.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-553.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-554.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-555.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-556.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-557.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-558.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-559.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-560.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-561.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-562.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-563.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-564.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-565.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-566.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-567.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-568.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-569.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-570.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-571.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-572.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-573.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-574.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-575.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-576.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-577.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-578.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-579.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-580.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-581.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-582.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-583.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-584.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-585.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-586.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-587.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-588.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-589.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-590.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-591.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-592.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-593.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-594.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-595.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-596.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-597.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-598.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-599.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-600.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-601.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-602.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-603.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-604.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-605.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-606.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-607.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-608.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-609.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-610.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-611.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-612.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-613.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-614.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-615.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-616.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-617.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-618.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-619.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-620.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-621.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-622.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-623.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-624.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-625.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-626.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-627.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-628.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-629.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-630.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-631.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-632.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-633.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-634.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-635.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-636.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-637.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-638.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-639.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-640.png)<!-- -->![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-4-641.png)<!-- -->

## Cosine developmental classifier features

``` r
# needs to show the percentage variance for each PC in the plot

pca_recipe <- 
  recipe(
    ~., 
    data = 
      cos_dev_data %>% 
      replace(list = is.na(.), values = 0)
  ) %>% 
  step_zv(all_numeric()) %>% 
  step_normalize(all_numeric()) %>% 
  step_pca(all_numeric(), num_comp = 5) 

pca_prep <- prep(pca_recipe)

pca_result <- juice(pca_prep)

pca_result %>% 
  ggplot(aes(x = PC1, y = PC2, color = outcome)) + 
  geom_point(size = 3, alpha = 0.7)  + 
  labs(title = "Developmental Classifier Features using Cosine Distance")
```

![](aml_predictice_modeling_vignette_files/figure-gfm/unnamed-chunk-5-1.png)<!-- -->

# Split data

``` r
mah_data_split <- initial_split(mah_dev_data, prop = 0.8, strata = outcome)
mah_data_train <- training(mah_data_split)
mah_data_test <- testing(mah_data_split)

cos_data_split <- initial_split(cos_dev_data, prop = 0.8, strata = outcome)
cos_data_train <- training(cos_data_split)
cos_data_test <- testing(cos_data_split)
```

# Replication of DDPR Elastic Net Model

``` r
ddpr_logistic <-
  logistic_reg(mode = "classification", mixture = 0.5) %>% 
  set_engine("glmnet")

mah_ddpr_fit <- 
  fit_xy(
    ddpr_logistic, 
    x = 
      select(mah_data_train, -patient, -condition, -outcome),
    y = 
      pull(mah_data_train, outcome) %>% 
      as.factor()
  )

my_predictions <- 
  mah_ddpr_fit %>% 
  multi_predict(select(mah_data_test, -patient, -condition, -outcome))

prediction_table <- 
  my_predictions %>% 
  mutate(
    patient = mah_data_test$patient, 
    .pred = 
      map2(
        .x = patient, 
        .y = .pred, 
        .f = 
          ~ mutate(.y, patient = .x)
      )
  ) %>% 
  select(-patient) %>% 
  unnest(c(.pred)) %>% 
  rename(predicted_outcome = .pred_class) %>% 
  left_join(mah_data_test %>% select(patient, outcome)) %>% 
  group_by(penalty) %>% 
  summarize(percent_correct = mean(predicted_outcome == outcome) * 100) %>% 
  arrange(desc(percent_correct))
```

    ## Joining, by = "patient"

    ## `summarise()` ungrouping output (override with `.groups` argument)

``` r
prediction_table
```

    ## # A tibble: 100 x 2
    ##    penalty percent_correct
    ##      <dbl>           <dbl>
    ##  1 0.00624              80
    ##  2 0.00654              80
    ##  3 0.00685              80
    ##  4 0.00718              80
    ##  5 0.00752              80
    ##  6 0.00788              80
    ##  7 0.00825              80
    ##  8 0.00864              80
    ##  9 0.00905              80
    ## 10 0.00949              80
    ## # … with 90 more rows

``` r
class(prediction_table)
```

    ## [1] "tbl_df"     "tbl"        "data.frame"

For the highest accuracy, choose the most highly penalized model and go
with that one.

``` r
best_penalty <- 
  prediction_table %>% 
  slice_max(order_by = percent_correct) %>% 
  slice_max(order_by = penalty) %>% 
  pull(penalty)
```

``` r
mah_ddpr_fit %>% 
  pluck("fit") %>% 
  coef(s = best_penalty) %>% 
  as.matrix() %>% 
  as_tibble(rownames = "marker_name") %>% 
  rename(coefficient = `1`) %>% 
  filter(coefficient > 0)
```

    ## # A tibble: 5 x 2
    ##   marker_name           coefficient
    ##   <chr>                       <dbl>
    ## 1 HSC_Basal_pS6             0.0769 
    ## 2 Monocyte_Basal_pS6        0.00181
    ## 3 Thrombocyte_Basal_pS6     0.0635 
    ## 4 HSC_GMCSF_pS6             0.539  
    ## 5 Monocyte_IL3_pS6          0.135

# CITRUS features Elastic Net Model

…to come
